WEB UI FEATURE TRACKER
======================
Tracks parity between the CLI client and the Web UI.
Last updated: 2026-02-17


IMPLEMENTED IN WEB UI
---------------------
[x] Chat with streaming (SSE)
[x] Tool call visualization (start/complete events)
[x] Server panel (list servers, view tools)
[x] Tool management (toggle individual tools, toggle per-server)
[x] Prompt management (list, preview, use with arguments)
[x] Chat history (list, search, restore, export, delete)
[x] Provider/model switching
[x] Settings (timeout, max iterations, HIL toggle)
[x] Status bar (provider, model, token usage)
[x] File attachments (upload, drag-drop, pending previews, send with message)


NOT YET IN WEB UI
-----------------
[ ] Ablation studies
    CLI: /ablation-create, /ablation-list, /ablation-edit, /ablation-run, /ablation-delete, /ablation-results
    Scope: Full CRUD + execution UI with results comparison view
    Priority: Low (niche/power-user feature)

[ ] Tool replay
    CLI: /tool-replay
    Scope: Browse past tool calls, re-execute selected ones
    Priority: Medium

[ ] Conversation rewind
    CLI: /rewind
    Scope: Step back to a previous conversation turn
    Priority: Medium (useful for correcting course)

[ ] Manual summarization
    CLI: /summarize, /summarize-now
    Scope: Button to trigger context summarization when approaching token limit
    Priority: Low (auto-summarization already works)

[ ] Token status detail
    CLI: /token-status, /tokens
    Scope: Detailed breakdown (input/output/cache tokens, cost estimate)
    Priority: Low (status bar already shows basic usage)

[ ] Todo mode
    CLI: /todo-on, /todo-off
    Scope: Toggle + visual indicator in status bar
    Priority: Low

[ ] Orchestrator mode
    CLI: /orchestrator-on, /orchestrator-off
    Scope: Toggle + visual indicator, possibly sub-agent status display
    Priority: Low

[ ] Chat rename / folder organization
    CLI: /chat-rename
    Scope: Rename chats, move to folders in history panel
    Priority: Medium

[ ] Server refresh
    CLI: /refresh, /refresh-select
    Scope: Button to reconnect MCP servers, optionally select which ones
    Priority: High (important for dev workflow when servers restart)

[ ] Query abort
    CLI: Ctrl+A
    Scope: Stop button during streaming (partially exists via onStop)
    Priority: High (check if current stop button fully aborts)

[ ] Human-in-the-loop approval UI
    CLI: interactive prompts during tool execution
    Scope: Modal or inline prompt asking user to approve/deny tool calls
    Priority: High (safety feature, currently toggle exists but no approval UI)

[ ] Help / command reference
    CLI: /help
    Scope: Help panel or modal listing available actions
    Priority: Low


IMPLEMENTATION LOG
------------------
2026-02-17: File attachments
  Files modified:
    src/index.ts                                    — added getAttachmentManager() getter
    src/web/api.ts                                  — added 4 CRUD routes + multer upload + attachmentFileNames in chat
    src/web/frontend/src/hooks/useAttachments.ts    — NEW: attachment state hook (upload, list, delete, pending management)
    src/web/frontend/src/hooks/useChat.ts           — sendMessage accepts optional attachmentFileNames
    src/web/frontend/src/components/ChatInput.tsx    — paperclip button, hidden file input, drag-drop overlay, attachment preview strip
    src/web/frontend/src/App.tsx                     — wired useAttachments hook, pass props to ChatInput, clear pending on send
    src/web/frontend/src/styles/index.css            — attachment card, drop overlay, paperclip button styles
    package.json                                     — added multer + @types/multer
  Playwright-tested: upload via paperclip, card display, remove, re-upload, send with attachment (assistant reads file)
  Key fix: multer temp files renamed to file.originalname before copyFileToAttachments


NOTES
-----
- The CLI attachment system (AttachmentManager, AttachmentCLI) handles all backend
  logic. Web features only need API routes + frontend components.
- Same pattern applies to most features: backend exists, just needs API + UI.
- Server refresh requires careful handling of reconnection state.
- HIL approval UI is the most architecturally complex missing feature — requires
  bidirectional communication (server asks browser for approval mid-stream).
